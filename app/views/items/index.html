<div ng-app="myApp">

  <div ng-controller="ItemsController">
    <!-- For every tag object (with name and state) in var tagFilters, iterate.  -->
    <div ng-repeat="tagFilter in tagFilters">
      <!-- On the click event, run the toggleTagState fn to change the tag object's state property. -->
      <button class="tag-filter" ng-class="{'include': tagFilter.state == 1, 'exclude': tagFilter.state == 2}" ng-click="toggleTagState(tagFilter)">{{tagFilter.name}}</button>
    </div>

    <h2>
      Menu
    </h2>
    <hr/>
    <ul>
      <li ng-repeat="item in menuItems | filter:customTagFilter">
        <p>Item: {{item.name}}</p>
        <p>Description: {{item.description}}</p>
        <label>Tags: </label>
        <p>{{item.tags[0].name}}</p>
        <ul>
          <li ng-repeat="tag in item.tags">
            <code>{{tag[0].name}}</code>
          </li>
        </ul>
        <hr/>
      </li>
    </ul>
  </div>
</div>
